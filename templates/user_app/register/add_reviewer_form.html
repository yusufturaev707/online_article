{% load i18n %}
{% load static %}

<form data-url="{% url 'choosen_reviewer_role' %}" method="post" id="choosen_reviewerRole_form" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="modal fade" id="choosen_reviewerRole" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content" style="border: none; border-radius: 16px; overflow: hidden; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);">
                <!-- Header -->
                <div style="background: linear-gradient(to right, #9333ea, #ec4899); padding: 16px 24px;">
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div style="width: 40px; height: 40px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                <i class="fa fa-user-edit" style="color: white; font-size: 16px;"></i>
                            </div>
                            <div>
                                <h5 style="color: white; font-weight: bold; font-size: 18px; margin: 0;">{% trans "Taqrizchi arizasi" %}</h5>
                                <p style="color: rgba(255,255,255,0.7); font-size: 12px; margin: 0;">{% trans "Formani to'ldiring" %}</p>
                            </div>
                        </div>
                        <button type="button" class="close" data-dismiss="modal" style="width: 32px; height: 32px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; border: none; cursor: pointer;">
                            <span style="color: white; font-size: 20px;">&times;</span>
                        </button>
                    </div>
                </div>

                <!-- Body -->
                <div style="padding: 24px; background: #f9fafb;">
                    <!-- Hidden user field -->
                    <div hidden>
                        <select id="id_user" name="user" class="form-control">
                            <option selected value="{{ user.id }}">{{ user.username }}</option>
                        </select>
                    </div>

                    <!-- Info box -->
                    <div style="display: flex; align-items: flex-start; gap: 12px; padding: 16px; background: #eff6ff; border-radius: 12px; border: 1px solid #bfdbfe; margin-bottom: 20px;">
                        <div style="flex-shrink: 0; width: 32px; height: 32px; background: #3b82f6; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fa fa-info" style="color: white; font-size: 12px;"></i>
                        </div>
                        <p style="color: #1d4ed8; font-size: 14px; margin: 0;">
                            {% trans "Taqrizchi bo'lish uchun o'zingiz mutaxassis bo'lgan ruknlarni tanlang va ilmiy ishlaringiz ro'yxatini yuklang." %}
                        </p>
                    </div>

                    <!-- Section selection -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: flex; align-items: center; gap: 8px; color: #374151; font-weight: 600; font-size: 14px; margin-bottom: 8px;">
                            <i class="fa fa-list" style="color: #9333ea;"></i>
                            {% trans "Ruknni tanlang" %}
                            <span style="color: #ef4444;">*</span>
                        </label>
                        <div style="background: white; border-radius: 12px; border: 1px solid #e5e7eb; padding: 4px;">
                            {{ form.section }}
                        </div>
                        <p style="color: #6b7280; font-size: 12px; margin-top: 4px; margin-left: 4px;">{% trans "Bir nechta ruknni tanlashingiz mumkin" %}</p>
                    </div>

                    <!-- File upload -->
                    <div style="margin-bottom: 8px;">
                        <label style="display: flex; align-items: center; gap: 8px; color: #374151; font-weight: 600; font-size: 14px; margin-bottom: 8px;">
                            <i class="fa fa-upload" style="color: #9333ea;"></i>
                            {% trans "Fayl yuklash" %}
                            <span style="color: #ef4444;">*</span>
                        </label>
                        <div style="background: white; border-radius: 12px; border: 2px dashed #d1d5db; padding: 16px;">
                            <div style="text-align: center; margin-bottom: 12px;">
                                <div style="width: 48px; height: 48px; background: #f3e8ff; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 8px;">
                                    <i class="fa fa-cloud-upload-alt" style="color: #9333ea; font-size: 20px;"></i>
                                </div>
                                <p style="color: #4b5563; font-size: 14px; margin: 0;">{% trans "Chop etilgan ilmiy ishlaringiz ro'yxatini yuklang" %}</p>
                                <p style="color: #9ca3af; font-size: 12px; margin: 0;">{% trans "Fayl formatlari: .doc, .docx, .pdf (max 10MB)" %}</p>
                            </div>
                            {{ fileForm.file }}
                        </div>
                    </div>
                </div>

                <!-- Footer -->
                <div style="background: white; padding: 16px 24px; border-top: 1px solid #f3f4f6;">
                    <div style="display: flex; align-items: center; justify-content: flex-end; gap: 12px;">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal" style="display: flex; align-items: center; gap: 8px; padding: 10px 20px; background: #f3f4f6; color: #374151; border-radius: 8px; font-weight: 500; font-size: 14px; border: none;">
                            <i class="fa fa-times"></i>
                            {% trans "Bekor qilish" %}
                        </button>
                        <button type="submit" id="submitReviewerFormBtn" class="btn btn-primary" style="display: flex; align-items: center; gap: 8px; padding: 10px 20px; background: linear-gradient(to right, #9333ea, #ec4899); color: white; border-radius: 8px; font-weight: 500; font-size: 14px; border: none; box-shadow: 0 10px 15px -3px rgba(147, 51, 234, 0.3);">
                            <i class="fa fa-paper-plane"></i>
                            <span id="submitBtnText">{% trans "Yuborish" %}</span>
                            <span id="submitBtnSpinner" style="display: none;"><i class="fa fa-spinner fa-spin"></i></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>

<script src="{% static '/assets/js/demo/form-plugins.demo.js' %}"></script>
<script src="{% static '/assets/plugins/parsleyjs/dist/parsley.min.js' %}"></script>
